{% extends 'partials/_auth_layout.html' %}
{% load static %}
{% block page_title %}{{student}}{% endblock page_title %}
{% block dashboard_content %}
<section class="pt-5 pb-0">
	<div class="container">
		<div class="row g-0 g-lg-5">

            {% if not student.published %}
            <div class="alert alert-danger text-center">
                <p class="m-0 fw-bolder">Student not verified. Please Verify below and <a href="{% url 'student:student-verify' student.slug %}">Click Here</a> after going through student details to verify</p>
            </div>
            {% endif %}

			<!-- Left sidebar START -->
			<div class="col-lg-4">
				<div class="row">
					<div class="col-md-6 col-lg-12">
						<!-- Instructor image START -->
            <div class="card shadow p-2 mb-4 text-center">
              <div class="rounded-3">
                <!-- Image -->
                <img src="{{student.image_url}}" class="card-img" alt="course image">
              </div>

            </div>
						<!-- Instructor image END -->
					</div>

					<div class="col-md-6 col-lg-12">
						<div class="card card-body shadow p-4 mb-4">

							<!-- Education START -->
							<!-- Title -->
							<h4 class="mb-3">Academic Summary</h4>

							<!-- Education item -->
							<div class="d-flex align-items-center mb-4">
								<div class="ms-3">
									<h6 class="mb-0">{{student.programme}}</h6>
									<p class="mb-0 small">Programme</p>
								</div>
							</div>

                            <div class="d-flex align-items-center mb-4">
								<div class="ms-3">
									<h6 class="mb-0">{{student.matric_number}}</h6>
									<p class="mb-0 small">Matric Number</p>
								</div>
							</div>

                            <div class="d-flex align-items-center mb-4">
								<div class="ms-3">
									<h6 class="mb-0">{{student.year_of_admission}}</h6>
									<p class="mb-0 small">Admission Year</p>
								</div>
							</div>

                            <div class="d-flex align-items-center mb-4">
								<div class="ms-3">
									<h6 class="mb-0">{{student.admission_type.upper}}</h6>
									<p class="mb-0 small">Admission Type</p>
								</div>
							</div>
						</div>
					</div>
				</div> <!-- Row End -->
			</div>
			<!-- Left sidebar END -->
				
			<!-- Main content START -->
			<div class="col-lg-8">
			
				<!-- Title -->
				<h1 class="mb-0">{{student}}</h1>
                <div class="bg-primary bg-opacity-10 text-primary p-1">
                    <p class="mb-0 fw-bolder">{{student.programme}}</p>
                </div>
				<!-- Content -->
				
				<ul class="list-group list-group-borderless">
					<li class="list-group-item px-0">
						<span class="h6 fw-light"><i class="fas fa-fw fa-map-marker-alt text-primary me-1 me-sm-3"></i>Address:</span>
						<span>{{student.address}}</span>
					</li>
					<li class="list-group-item px-0">
						<span class="h6 fw-light"><i class="fas fa-fw fa-envelope text-primary me-1 me-sm-3"></i>Email:</span>
						<span>{{student.email}}</span>
					</li>
					<li class="list-group-item px-0">
						<span class="h6 fw-light"><i class="fas fa-fw fa-headphones text-primary me-1 me-sm-3"></i>Phone number:</span>
						<span>+234 {{student.mobile_no}}</span>
					</li>
				</ul>

                <!-- Counter START -->
				<div class="row my-4 g-3">
					<!-- Counter item -->
					<div class="col-sm-6 col-lg-4">
						<div class="d-flex align-items-center">
							<div class="ms-3">
								<div class="d-flex">
									<span class="mb-0 h5">{{student.year_of_admission}}</span>
								</div>
								<p class="mb-0 h6 fw-light">Admission Year</p>
							</div>
						</div>
					</div>
                    <div class="col-sm-6 col-lg-4">
						<div class="d-flex align-items-center">
							<div class="ms-3">
								<div class="d-flex">
									<span class="mb-0 h5">{{student.matric_number}}</span>
								</div>
								<p class="mb-0 h6 fw-light">Matric Number</p>
							</div>
						</div>
					</div>

                    <div class="col-sm-6 col-lg-4">
						<div class="d-flex align-items-center">
							<div class="ms-3">
								<div class="d-flex">
									<span class="mb-0 h5">{{student.gender.title}}</span>
								</div>
								<p class="mb-0 h6 fw-light">Gender</p>
							</div>
						</div>
					</div>
				</div>
				<!-- Counter END -->

				<div class="my-2">
                    <h5>Documents</h5>
                    <div class="table-responsive border-0">
                        <table class="table table-dark-gray align-middle p-4 mb-0 table-hover">
                            <!-- Table head -->
                            <thead>
                                <tr>
                                    <th scope="col" class="border-0 rounded-start">Name</th>
                                    <th scope="col" class="border-0">Action</th>
                                </tr>
                            </thead>

                            <!-- Table body START -->
                            <tbody>
                                <!-- Table row -->
                                {% for doc in student.document_set.all %}
                                <tr>
                                    <!-- Table data -->
                                    <td class="text-center text-sm-start">
                                        <h6 class="mb-0">{{doc.name}}</h6>
                                    </td>

                                    <td>
                                        <a href="{{doc.document.url}}"  class="btn btn-dark btn-sm" target="_blank">
                                            View
                                        </a>
                                        <a href="{{doc.document.url}}" download class="btn btn-outline-dark btn-sm">
                                            Download
                                        </a>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                            <!-- Table body END -->
                        </table>
                    </div>
                </div>
                
                

                

                <div class="my-2">
                    <a href="{% url 'student:student-edit' student.slug %}" class="btn btn-outline-dark">Edit Profile</a>
                </div>

      </div>
			<!-- Main content END -->

		</div><!-- Row END -->
	</div>
</section>
{% endblock dashboard_content %}